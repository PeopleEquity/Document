<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tech Sharing from PeopleEquity Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tech Sharing from PeopleEquity Blog Atom Feed"><title data-react-helmet="true">Demo (Bcoinçš„åº•å±‚è§£æ) | Tech Sharing from PeopleEquity</title><meta data-react-helmet="true" property="og:url" content="https://peopleequity.club//docs/ESChain/Demo"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Demo (Bcoinçš„åº•å±‚è§£æ) | Tech Sharing from PeopleEquity"><meta data-react-helmet="true" name="description" content="ğŸ’‹doneã€â„ï¸todoã€ğŸŒdoingã€âŒfailã€ğŸ“referenceã€âœ‚ï¸cancel"><meta data-react-helmet="true" property="og:description" content="ğŸ’‹doneã€â„ï¸todoã€ğŸŒdoingã€âŒfailã€ğŸ“referenceã€âœ‚ï¸cancel"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://peopleequity.club//docs/ESChain/Demo"><link data-react-helmet="true" rel="alternate" href="https://peopleequity.club//docs/ESChain/Demo" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://peopleequity.club//docs/ESChain/Demo" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.33397cce.css">
<link rel="preload" href="/assets/js/runtime~main.a7f83ba0.js" as="script">
<link rel="preload" href="/assets/js/main.68816496.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/favicon.png" alt="PeopleEquity" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/favicon.png" alt="PeopleEquity" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">PeopleEquity</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/README">Article &amp; Doc</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/peopleequity/Document" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--checked react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/README">PeopleEquity</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Commercial</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">ESChain</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/ESChain/Demo">Demo (Bcoinçš„åº•å±‚è§£æ)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ESChain/README">Readme</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">MyShop</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pending</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Swap</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Wallet</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Demo (Bcoinçš„åº•å±‚è§£æ)</h1></header><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Reference</h5></div><div class="admonition-content"><p>  ğŸ’‹<code>done</code>ã€â„ï¸<code>todo</code>ã€ğŸŒ<code>doing</code>ã€âŒ<code>fail</code>ã€ğŸ“<code>reference</code>ã€âœ‚ï¸<code>cancel</code></p><ul><li><a href="https://www.processon.com/diagraming/5fa3cc56e0b34d7a1a9803d3" target="_blank" rel="noopener noreferrer">BcoinåŠŸèƒ½æµç¨‹ä¾èµ–å›¾</a></li><li><a href="https://bcoin.io/guides/events.html" target="_blank" rel="noopener noreferrer">Bcoinå†…åœ¨æ ¸å¿ƒæœºåˆ¶&amp;äº‹ä»¶ä½“ç³»</a></li><li><a href="https://bcoin.io/api-docs/index.html#bcoin-client-requests" target="_blank" rel="noopener noreferrer">Bcionè¯¦å°½çš„APIæ–‡æ¡£</a></li><li><a href="https://bcoin.io/guides/browser" target="_blank" rel="noopener noreferrer">Bcoinåœ¨Browserä¸­çš„ä½¿ç”¨</a></li></ul></div></div><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">test</div><div class="codeBlockContent_hGly diff"><pre tabindex="0" class="prism-code language-diff codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 85)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 85)"> a</span></span><span class="token-line" style="color:#F8F8F2"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 85)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(80, 250, 123)">+</span><span class="token inserted-sign inserted line" style="color:rgb(80, 250, 123)"> b</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="åŸºäºbcoinçš„-taiki-æ€»ä½“è§„åˆ’è·¯çº¿"></a>ğŸŒğŸŒåŸºäºBcoinçš„ <code>Taiki</code> æ€»ä½“è§„åˆ’è·¯çº¿ğŸŒğŸŒ<a class="hash-link" href="#åŸºäºbcoinçš„-taiki-æ€»ä½“è§„åˆ’è·¯çº¿" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-æœ€ç»ˆä¸‰ä¸ªç‰ˆæœ¬"></a>ğŸ‘‹ğŸ» æœ€ç»ˆä¸‰ä¸ªç‰ˆæœ¬<a class="hash-link" href="#-æœ€ç»ˆä¸‰ä¸ªç‰ˆæœ¬" title="Direct link to heading">#</a></h3><ul><li>â„ï¸ ç§»åŠ¨ç«¯å…¨èŠ‚ç‚¹(Bç‰ˆ-browser)</li><li>â„ï¸ æ¡Œé¢ç‰ˆå…¨èŠ‚ç‚¹(Nç‰ˆ-node)</li><li>â„ï¸ è½»é‡çº§ç§»åŠ¨ç«¯&amp;å…¨èŠ‚ç‚¹åç«¯(CSç‰ˆ-client/server)</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-browserç«¯è¿è¡Œå•ä½“bcoin"></a>ğŸ“ Browserç«¯è¿è¡Œå•ä½“bcoin<a class="hash-link" href="#-browserç«¯è¿è¡Œå•ä½“bcoin" title="Direct link to heading">#</a></h3><ul><li>ğŸ’‹ å·²ç»æˆåŠŸæ‰“åŒ…æˆå•ä½“åº”ç”¨: Taiki.js (ä¾èµ–bpkg,å¹¶åœ¨æŒ‚è½½å…¨å±€å¯¹è±¡ global.Taiki)</li><li>ğŸ’‹ å·²ç»æˆåŠŸè¿è¡Œ(ä»¥åˆ›å»ºæµ‹è¯•ç½‘çš„åŒºå—é“¾å’Œäº¤æ˜“æ± ä¸ºä¾‹) <a href="#1">âœï¸</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-browserç«¯æ”¯æŒwsproxyç›‘å¬å¹¶å“åº”é“¾ä¸Šäº‹ä»¶"></a>ğŸ‹ Browserç«¯æ”¯æŒwsProxy,ç›‘å¬å¹¶å“åº”é“¾ä¸Šäº‹ä»¶<a class="hash-link" href="#-browserç«¯æ”¯æŒwsproxyç›‘å¬å¹¶å“åº”é“¾ä¸Šäº‹ä»¶" title="Direct link to heading">#</a></h3><ul><li>ğŸ’‹ å®ç°ä»£ç†æœåŠ¡å™¨çš„åŠŸèƒ½(å¹¶è¯¦ç»†é˜è¿°äº†ä»£ç†æœåŠ¡å™¨server, wsProxyç­‰çš„å…·ä½“å®ç°) <a href="#1">âœï¸</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-nodejsç«¯browserç«¯è¿è¡Œexamples"></a>âš½ NodeJSç«¯/Browserç«¯è¿è¡Œexamples<a class="hash-link" href="#-nodejsç«¯browserç«¯è¿è¡Œexamples" title="Direct link to heading">#</a></h3><blockquote><p>å…ˆNodeJSç«¯ï¼Œå†Browserç«¯</p></blockquote><ul><li><p>â„ï¸ <code>fullnode</code>: åˆ›å»ºä¸€ä¸ªå…¨èŠ‚ç‚¹å¯¹è±¡å¹¶è¿æ¥åˆ°<code>testnet</code>  <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ <code>connetc-to-peer</code>: åœ¨<code>regtest</code>æ¨¡å¼ä¸‹è¿æ¥åˆ°ç”¨æˆ·å®šä¹‰çš„èŠ‚ç‚¹ <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ <code>connect-to-the-p2p-net</code>: åˆ›å»º<code>chain</code>ã€<code>pool</code>ã€<code>mempool</code>å¯¹è±¡ç”¨äºä¸»ç½‘å’Œæµ‹è¯•ç½‘ <a href="#1">âœï¸</a></p></li><li><p>ğŸ’‹ <code>create-a-blockchian-and-mempool</code>: åˆ›å»ºä¸€æ¡é“¾å’Œäº¤æ˜“æ± , ç„¶ååˆ›å»ºçŸ¿å·¥å¹¶æŒ–ä¸€ä¸ªåŒºå—ç¼€è¿åˆ°é“¾å°¾<a href="#1">âœï¸</a></p></li><li><p>â„ï¸ <code>wallet</code>: æ·»åŠ ä¸€ä¸ª<code>dummy</code>äº¤æ˜“åˆ°é’±åŒ…ï¼Œè§¦å‘<code>tx</code>äº‹ä»¶çš„å¤„ç† <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ <code>spv-sync-wallet</code>: ç”±ä¸€ä¸ªæœ€å°å…¨èŠ‚ç‚¹ï¼Œå°†ç¬¦åˆSPVèŠ‚ç‚¹å¸ƒéš†è¿‡æ»¤å™¨çš„äº¤æ˜“å¹¿æ’­åˆ°SPVèŠ‚ç‚¹ <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ <code>peer-plugin</code>: æ¼”ç¤ºbcoinçš„<code>node</code>å¯¹è±¡çš„<code>plugin</code>ç‰¹æ€§ <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ <code>client-api</code>: æ¼”ç¤º<code>node</code>å’Œ<code>wallet</code>çš„apiçš„ä½¿ç”¨  <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ <code>create-sign-tx</code>: åˆ›å»ºç­¾åäº¤æ˜“: ä½¿ç”¨<code>mtx</code>å’Œ<code>keystring</code>æ¨¡å—æ¥ç­¾åä¸€ç¬”äº¤æ˜“  <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ <code>get-tx-from-chain</code>: è·å–é“¾ä¸Šçš„äº¤æ˜“: è¿æ¥åˆ°å®æ—¶æµ‹è¯•ç½‘æ¥åŒæ­¥å‰1000ä¸ªåŒºå—ï¼Œå¹¶å¯ç”¨txç´¢å¼• <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ <code>watch-only-wallet</code>: å°†ä¸€ä¸ª<code>xpub</code>å¯¼å…¥ä¸€ä¸ªæ–°çš„å¯ä»¥æ´¾ç”Ÿåœ°å€çš„æ‰‹è¡¨ä¸“ç”¨é’±åŒ… <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ ç”¨reactå®ç°ç®€æ˜“å‰ç«¯: åŠŸèƒ½é¡µé¢å’Œå¯¹åº”çš„é€»è¾‘æ¨¡å—ï¼Œéš¶å±åŒä¸€ç»„ä»¶</p></li><li><p>â„ï¸ docs/examplesä¸­æ‰€æœ‰ç¤ºä¾‹ï¼Œæ‹†åˆ†æˆå¯åµŒå…¥çš„æ¨¡å—</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-è¯•ç”¨å¹¶é›†æˆæ¥å£å’Œæ ¸å¿ƒåŠŸèƒ½"></a>ğŸ‘ è¯•ç”¨å¹¶é›†æˆæ¥å£å’Œæ ¸å¿ƒåŠŸèƒ½<a class="hash-link" href="#-è¯•ç”¨å¹¶é›†æˆæ¥å£å’Œæ ¸å¿ƒåŠŸèƒ½" title="Direct link to heading">#</a></h3><blockquote><p>æ ¹æ®å®˜æ–¹æ ¸å¿ƒæœºåˆ¶ï¼ŒAPIï¼ŒEventsæŠŠç©å„ä¸ªæ¥å£å’ŒåŠŸèƒ½ï¼Œå®Œæ•´çš„å†™åœ¨example-demo.htmlä¸­ã€‚<a href="https://bcoin.io/guides.html" target="_blank" rel="noopener noreferrer">æŸ¥çœ‹</a></p></blockquote><ul><li><p>â„ï¸ äº¤æ˜“æ“ä½œï¼šä½¿ç”¨bcoinå’ŒMTX,TXå¯¹è±¡è¿›è¡Œäº¤æ˜“æ“ä½œ; <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ æ„å»ºWebåº”ç”¨ï¼šä½¿ç”¨bcoinåº“ä¸­çš„å„ä¸ªæ¨¡å—æ¥æ„å»ºWebåº”ç”¨ç¨‹åº; <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ é’±åŒ…è´¦æˆ·é’¥åŒ™ï¼šä½¿ç”¨bcoinåˆ›å»ºå’Œä½¿ç”¨é’±åŒ… <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ è·¨é“¾åŸå­äº¤æ˜“ï¼šä½¿ç”¨bcoinå’Œbcashåº“ï¼Œåœ¨ä¸¤æ¡é“¾ä¸Šçš„ä¸¤ä¸ªç”¨æˆ·ä¹‹é—´æ‰§è¡Œå¸çš„äº¤æ¢ã€‚åˆ›å»ºä¸€ä¸ªå“ˆå¸Œæ—¶é—´é”åˆçº¦æ¥å®‰å…¨çš„æ‰§è¡Œäº¤æ˜“; <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ éš”ç¦»è§è¯ï¼šéš”ç¦»è§è¯å’Œbcoinçš„é…åˆä½¿ç”¨; <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ åŒºå—é“¾ä¸Šå­˜å‚¨æ•°æ®ï¼šåˆ›å»ºä¸€ä¸ªäº¤æ˜“ï¼Œå…¶è¾“å‡ºåŒ…å«ä¸€ä¸ªç©ºæ•°æ®è„šæœ¬; <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ åˆ›å»ºå¤šé‡ç­¾åäº¤æ˜“ï¼šä½¿ç”¨å†…ç½®çš„bcoinç»„ä»¶å’Œé’±åŒ…apiæ¥åˆ›å»ºå’Œå¤„ç†å¤šé‡ç­¾åäº¤æ˜“; <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ å‘½ä»¤è¡Œä¸­å¤šé‡ç­¾åï¼š <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ ç”Ÿæˆåœ°å€ï¼šä½¿ç”¨å†…ç½®çš„bcoinç»„ä»¶ä»0å¼€å§‹æ„å»ºäº¤æ˜“; <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ äº‹ä»¶å’Œsocketsï¼šæ‰€æœ‰äº‹ä»¶çš„æ¸…å•ï¼Œå“ªäº›å‡½æ•°è°ƒç”¨ä»–ä»¬ï¼Œå®ƒä»¬åˆè¿”å›å“ªäº›æ•°æ®ï¼Œå“ªäº›å¯¹è±¡æ•è·å¹¶é‡æ–°è§¦å‘å®ƒä»¬ï¼ŒåŠé€šè¿‡websocketè¿æ¥å¯ä»¥ä½¿ç”¨å“ªäº›äº‹ä»¶; <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ åˆ›å»ºä¸€ä¸ªä¼—ç­¹äº¤æ˜“ï¼šé€šè¿‡æ„å»ºè‡ªå®šä¹‰çš„ä¼—ç­¹äº¤æ˜“ï¼Œè®©ä»»ä½•äººå°†è‡ªå·±çš„è¾“å…¥æ·»åŠ åˆ°å…·æœ‰å›ºå®šè¾“å‡ºçš„äº¤æ˜“ä¸­ï¼Œæ¥äº†è§£SIGHASHæ ‡å¿—åœ¨æ¯”ç‰¹å¸ä¸­çš„å·¥ä½œæ–¹å¼; <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ è¿æ¥ä¸¤ä¸ªæœ¬åœ°èŠ‚ç‚¹ï¼šåœ¨å•ä¸ªè„šæœ¬ä¸­å¯åŠ¨å¹¶æ‰‹åŠ¨è¿æ¥ä¸¤ä¸ªregtestèŠ‚ç‚¹; <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ äº‹ä»¶é”å®šçš„æ¯”ç‰¹å¸äº¤æ˜“ï¼šäº†è§£å¦‚ä½•ä½¿ç”¨å¸¦æœ‰bcoinçš„æ¯”ç‰¹å¸è„šæœ¬è¿›è¡Œå’Œèµå›æ—¶é—´é”å®šäº¤æ˜“ã€‚å°†æä¾›ä¸€ä¸ªå‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªè„šæœ¬ï¼Œè¯¥è„šæœ¬åœ¨é¢„å®šçš„æ—¶é—´å†…é”å®šUTXOï¼Œå¹¶åˆ†åˆ«å­¦ä¹ å¦‚ä½•å¯¹è¿™äº›ç±»å‹çš„ç‰¹æ®Šè¾“å…¥è¿›è¡Œç­¾å; <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ æ„å»ºå¾ˆæ£’çš„bcoinæ’ä»¶ï¼šé€šè¿‡æ„å»ºbcoinæ’ä»¶æ¥æ‰©å±•åŠŸèƒ½; <a href="#1">âœï¸</a></p></li><li><p>â„ï¸ åœ¨æµè§ˆå™¨ä¸­è¿è¡Œbcoinå…¨èŠ‚ç‚¹ï¼šé€šè¿‡ä½¿ç”¨ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œæˆ‘ä»¬èƒ½å°†å®¢æˆ·ç«¯è¿æ¥åˆ°çœŸå®çš„æ¯”ç‰¹å¸ç½‘ç»œ; <a href="#1">âœï¸</a></p><blockquote><p>çœŸçš„å¿…é¡»è¦ä¸€ä¸ªä»£ç†æœåŠ¡å™¨å—? è™½ç„¶è¯´åŸºäºå®‰å…¨è€ƒè™‘ï¼Œæµè§ˆå™¨ä¸å…è®¸åœ¨è„šæœ¬ä¸­å‘åˆ«çš„æœåŠ¡å™¨åˆ›å»ºTCPè¿æ¥ã€‚</p></blockquote></li><li><p>â„ï¸ åœ¨æ ‘è“æ´¾ç­‰linuxè®¾å¤‡ä¸Šè¿è¡Œbcoinï¼šè¿è¡ŒbcoinèŠ‚ç‚¹å¹¶ä½¿ç”¨å°½å¯èƒ½å°‘çš„èµ„æºå°½å¿«ä¸æ¯”ç‰¹å¸ç½‘ç»œè¿›è¡Œäº¤äº’ã€‚</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-åŸºäºreactè®¾è®¡åŒºå—åº”ç”¨çš„ç²¾ç¾é¡µé¢"></a>ğŸ‡ åŸºäºReactè®¾è®¡åŒºå—åº”ç”¨çš„ç²¾ç¾é¡µé¢<a class="hash-link" href="#-åŸºäºreactè®¾è®¡åŒºå—åº”ç”¨çš„ç²¾ç¾é¡µé¢" title="Direct link to heading">#</a></h3><blockquote><p>è®¾è®¡ä¸€äº›é¡µé¢(Reactï¼Œå¯å‚è€ƒä¸€äº›æ¯”ç‰¹å¸/åŒºå—é“¾åº”ç”¨çš„ä¼˜ç§€é¡µé¢)ï¼Œåˆ©ç”¨Bcoinçš„ä¸€äº›æ¥å£å®Œæˆä¸€äº›åŠŸèƒ½</p></blockquote><ul><li>ğŸ“ å‚è€ƒå¯¹è±¡: Blockchain, Polkawallet, Wallet, Status, MetaMask, éº¦å­é’±åŒ…, BFChainç­‰App</li><li>ğŸ“ å‚è€ƒç½‘ç«™: <a href="https://bitcoinvisuals.com/" target="_blank" rel="noopener noreferrer">æ¯”ç‰¹å¸æ•°æ®å¯è§†åŒ–</a>, <a href="https://mempool.space/zh/" target="_blank" rel="noopener noreferrer">å®æ—¶çŠ¶æ€çš„å±•ç¤º</a>ç­‰</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-æ”¯æŒè‡ªç”±æ‹”æ’çš„å…±è¯†åè®®"></a>ğŸŒ½ æ”¯æŒè‡ªç”±æ‹”æ’çš„å…±è¯†åè®®<a class="hash-link" href="#-æ”¯æŒè‡ªç”±æ‹”æ’çš„å…±è¯†åè®®" title="Direct link to heading">#</a></h3><blockquote><p>æ”¹é€ è¯¥Bcoinï¼Œä½¿ä¹‹èƒ½ç”¨åœ¨BFTä¸Šçš„å…±è¯†åè®®ä¸Šï¼›ï¼ˆå¯æ’æ‹”çš„å…±è¯†åè®®...DPOS,DPOPç­‰ï¼‰</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-åˆç‰ˆçš„ç§»åŠ¨ç«¯å®‰å…¨èŠå¤©ç‚¹å¯¹ç‚¹è½¬è´¦äº¤æ˜“ä¸Šé“¾çš„åº”ç”¨rn"></a>ğŸ† åˆç‰ˆçš„ç§»åŠ¨ç«¯å®‰å…¨èŠå¤©/ç‚¹å¯¹ç‚¹è½¬è´¦/äº¤æ˜“ä¸Šé“¾çš„åº”ç”¨(RN)<a class="hash-link" href="#-åˆç‰ˆçš„ç§»åŠ¨ç«¯å®‰å…¨èŠå¤©ç‚¹å¯¹ç‚¹è½¬è´¦äº¤æ˜“ä¸Šé“¾çš„åº”ç”¨rn" title="Direct link to heading">#</a></h3><blockquote><p>åŸºäºReactNative + Telegram + Wallet + Statusåšä¸€æ¬¾ç§»åŠ¨ç«¯å®‰å…¨èŠå¤©+ç‚¹å¯¹ç‚¹è½¬è´¦+äº¤æ˜“ä¸Šé“¾çš„åº”ç”¨</p></blockquote><ul><li>ğŸ’‹ åŸºäºReactNativeçš„Taikiçš„æ¶æ„æ­å»ºç¼–è¯‘å®‰è£…å‘å¸ƒç­‰æµç¨‹</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-é«˜é˜¶ç‰ˆtaikiton"></a>ğŸ† é«˜é˜¶ç‰ˆTaiki(Ton)<a class="hash-link" href="#-é«˜é˜¶ç‰ˆtaikiton" title="Direct link to heading">#</a></h3><blockquote><p>å°†Bcoinæ”¹é€ æˆTONç™½çš®ä¹¦çš„é‚£ç§è®¾æƒ³ï¼ˆTelegram + Wallet + å·¥ä½œé“¾/åˆ†ç‰‡é“¾ï¼Œéœ€è¦å‚è€ƒTONçš„C++æºç ï¼‰</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="bcoinæºç çš„é¡¶å±‚æ¶æ„"></a>ğŸŒŠğŸŒŠBcoinæºç çš„é¡¶å±‚æ¶æ„ğŸŒŠğŸŒŠ<a class="hash-link" href="#bcoinæºç çš„é¡¶å±‚æ¶æ„" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ bcoin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">browser.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ bcoin.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ blockchain</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ chaindb.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ chainentry.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ chain.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ common.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ layout.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ blockstore</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ abstract.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ common.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ file.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ layout.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ level.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ README.md</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ records.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ btc</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ amount.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ uri.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ client</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ node.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ wallet.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ coins</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ coinentry.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ coins.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ coinview.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ compress.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ undocoins.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ golomb</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ golomb.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ reader.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ README.md</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ writer.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ hd</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ common.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ hd.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ mnemonic.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ nfkd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">compat.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ nfkd.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ private.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ public.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ README.md</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ udata.json</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ unorm.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ wordlist</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">browser.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ wordlist.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ words</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     â”œâ”€â”€ chinese</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">simplified.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     â”œâ”€â”€ chinese</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">traditional.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     â”œâ”€â”€ english.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     â”œâ”€â”€ french.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     â”œâ”€â”€ italian.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     â”œâ”€â”€ japanese.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     â””â”€â”€ spanish.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ indexer</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ addrindexer.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ filterindexer.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ indexer.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ layout.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ txindexer.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ mempool</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ addrindexer.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ fees.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ layout.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ mempoolentry.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ mempool.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ mining</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ common.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ cpuminer.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ mine.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ miner.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ template.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ net</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ bip152.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ common.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ framer.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ hostlist.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ netaddress.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ packets.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ parser.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ peer.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ pool.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ seeds</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     â”œâ”€â”€ main.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚     â””â”€â”€ testnet.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ node</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ fullnode.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ http.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ node.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ rpc.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ spvnode.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ pkg.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ primitives</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ abstractblock.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ address.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ block.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ coin.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ filter.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ headers.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ input.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ invitem.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ keyring.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ memblock.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ merkleblock.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ mtx.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ outpoint.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ output.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ tx.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ txmeta.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ protocol</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ consensus.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ errors.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ network.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ networks.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ policy.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ timedata.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ script</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ common.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ opcode.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ program.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ scripterror.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ script.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ scriptnum.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ sigcache.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ stack.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ witness.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ types.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ utils</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ binary.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ fixed.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ message.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ util.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”œâ”€â”€ wallet</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ account.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ client.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ common.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ http.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ layout.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ masterkey.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ nodeclient.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ node.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ nullclient.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ path.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ plugin.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ records.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ rpc.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ txdb.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ walletdb.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â”œâ”€â”€ wallet.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”‚ â””â”€â”€ walletkey.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â””â”€â”€ workers</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€â”€ child</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">browser.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€â”€ child.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€â”€ framer.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€â”€ index.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€â”€ jobs.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€â”€ master.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€â”€ packets.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€â”€ parent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">browser.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€â”€ parent.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€â”€ parser.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€â”€ README.md</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€â”€ worker.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â””â”€â”€ workerpool.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-å„æ¨¡å—çš„åŠŸèƒ½å®šä¹‰ä»¥bcoin-browserjsä¸ºä¾‹"></a>ğŸ“¦ å„æ¨¡å—çš„åŠŸèƒ½å®šä¹‰(ä»¥bcoin-browser.jsä¸ºä¾‹)<a class="hash-link" href="#-å„æ¨¡å—çš„åŠŸèƒ½å®šä¹‰ä»¥bcoin-browserjsä¸ºä¾‹" title="Direct link to heading">#</a></h3><table><thead><tr><th align="left">Codebase</th><th align="center">Description</th><th align="left">Codebase</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/blockstore" target="_blank" rel="noopener noreferrer">blockstore</a></td><td align="center">blocks å†…å­˜/æ–‡ä»¶/æ•°æ®åº“</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/mining" target="_blank" rel="noopener noreferrer">mining</a></td><td align="center">æŒ–çŸ¿</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/blockchain" target="_blank" rel="noopener noreferrer">blockchain</a></td><td align="center">æ„å»ºchain</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/net" target="_blank" rel="noopener noreferrer">net</a></td><td align="center">ç½‘ç»œå±‚</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/btc" target="_blank" rel="noopener noreferrer">btc</a></td><td align="center">BTCä¸­amountå’Œuriçš„è½¬æ¢</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/node" target="_blank" rel="noopener noreferrer">node</a></td><td align="center">æŠ½è±¡/SPV/å…¨èŠ‚ç‚¹</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/client" target="_blank" rel="noopener noreferrer">client</a></td><td align="center">èŠ‚ç‚¹/é’±åŒ…å®¢æˆ·ç«¯</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/primitives" target="_blank" rel="noopener noreferrer">primitives</a></td><td align="center">åŸè¯­(æ³¨é‡Š1)</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/coins" target="_blank" rel="noopener noreferrer">coins</a></td><td align="center">UTXOçš„ç®¡ç†</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/protocol" target="_blank" rel="noopener noreferrer">protocol</a></td><td align="center">åè®®(å…±è¯†ï¼Œç½‘ç»œç­‰å¸¸é‡)</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/golomb" target="_blank" rel="noopener noreferrer">golomb</a></td><td align="center">åŒºå—è¿‡æ»¤å™¨?æ•°æ®å‹ç¼©?</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/script" target="_blank" rel="noopener noreferrer">script</a></td><td align="center">å·¥å…·è„šæœ¬?</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/hd" target="_blank" rel="noopener noreferrer">hd</a></td><td align="center">åˆ†å±‚ç¡®å®šæ€§keys</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/utils" target="_blank" rel="noopener noreferrer">utils</a></td><td align="center">å·¥å…·(äºŒåˆ†æŸ¥æ‰¾/æ¶ˆæ¯ç­¾åç­‰)</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/indexer" target="_blank" rel="noopener noreferrer">indexer</a></td><td align="center">äº¤æ˜“ç´¢å¼•å™¨/åœ°å€ç´¢å¼•å™¨</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/wallet" target="_blank" rel="noopener noreferrer">wallet</a></td><td align="center">é’±åŒ…</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/mempool" target="_blank" rel="noopener noreferrer">mempool</a></td><td align="center">äº¤æ˜“æ± </td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib/workers" target="_blank" rel="noopener noreferrer">workers</a></td><td align="center">å·¥ä½œçº¿ç¨‹</td></tr></tbody></table><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>NOTICE</h5></div><div class="admonition-content"><p>ã€åŸè¯­ã€‘æŠ½è±¡åŒºå—ï¼Œåœ°å€ï¼ŒåŒºå—ï¼Œå¸ï¼Œè¿‡æ»¤å™¨ï¼ŒåŒºå—å¤´ï¼Œè¾“å…¥ï¼Œé‚€è¯·å‡½ï¼Œé’¥åŒ™ç¯ï¼Œå†…å­˜åŒºå—ï¼Œæ¢…å…‹å°”åŒºå—ï¼Œå¯å˜äº¤æ˜“ï¼Œè¾“å‡ºï¼Œè¾“å‡ºç‚¹ï¼Œäº¤æ˜“ï¼Œäº¤æ˜“å…ƒæ•°æ®</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-æŸ¥çœ‹ä¾èµ–æ–‡ä»¶æ ‘"></a>ğŸ“¦ æŸ¥çœ‹ä¾èµ–æ–‡ä»¶æ ‘<a class="hash-link" href="#-æŸ¥çœ‹ä¾èµ–æ–‡ä»¶æ ‘" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">æŸ¥çœ‹ä¾èµ–æ–‡ä»¶æ ‘(æ•ˆæœå¦‚ä¸‹å›¾)</div><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm run _dependTree</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="ç±»ä¼¼çš„ä¾èµ–æ ‘ç»“æ„" src="/assets/images/dependTree-6d87cf059be49953379bbb0abb10e791.jpg"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-æŸ¥çœ‹æŸä¸ªæ–‡ä»¶æ–‡ä»¶å¤¹çš„ä»£ç é‡"></a>ğŸ“¦ æŸ¥çœ‹æŸä¸ªæ–‡ä»¶/æ–‡ä»¶å¤¹çš„ä»£ç é‡<a class="hash-link" href="#-æŸ¥çœ‹æŸä¸ªæ–‡ä»¶æ–‡ä»¶å¤¹çš„ä»£ç é‡" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">æŸ¥çœ‹ä»£ç é‡(æ•ˆæœå¦‚ä¸‹å›¾)</div><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd xxx </span><span class="token operator">&amp;&amp;</span><span class="token plain"> linec </span><span class="token comment" style="color:rgb(98, 114, 164)">// xxxä»£è¡¨æŸä¸ªæ–‡ä»¶å¤¹</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="ç±»ä¼¼çš„ä»£ç é‡ç»Ÿè®¡" src="/assets/images/linec-ae63e8601b791e11f5e86400b3a570a1.jpg"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å¼€å‘ä¸­çš„è¯¦ç»†ç¬”è®°"></a>ğŸ†ğŸ†å¼€å‘ä¸­çš„è¯¦ç»†ç¬”è®°ğŸ†ğŸ†<a class="hash-link" href="#å¼€å‘ä¸­çš„è¯¦ç»†ç¬”è®°" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-æœ€ç®€å¯åŠ¨"></a>ğŸ“ æœ€ç®€å¯åŠ¨<a class="hash-link" href="#-æœ€ç®€å¯åŠ¨" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">1. æ‹‰å–ä»£ç å¹¶å®‰è£…ä¾èµ–åŒ…</div><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">git clone https</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token plain">github</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">com</span><span class="token operator">/</span><span class="token plain">stevekeol</span><span class="token operator">/</span><span class="token maybe-class-name">Bcoin</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd </span><span class="token maybe-class-name">Bcoin</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm i</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">2.1 åœ¨æµè§ˆå™¨ç«¯æ‰“åŒ…æˆå•ä½“çš„jsæ–‡ä»¶å¹¶è¿è¡Œå¼€å‘æœåŠ¡å™¨</div><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"> * ç„¶ååœ¨æµè§ˆå™¨ç«¯localhost:5000å°±å¯ä»¥çœ‹åˆ°æ•ˆæœ</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"> * _ä¸ºå‰ç¼€çš„scriptï¼Œéƒ½æ˜¯è‡ªå®šä¹‰çš„</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"> * _devAll: npm run _bpkg-app &amp;&amp; npm run _bpkg-worker &amp;&amp; cd browser &amp;&amp; serve</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"> */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm run _devAll</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><p>Chromeæ§åˆ¶å°è¾“å…¥Bcoinï¼Œå¯ä»¥çœ‹åˆ°å…¨å±€Bcoinä¸ŠæŒ‚è½½çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•.</p><table><thead><tr><th align="left">Codebase</th><th align="center">Description</th><th align="left">Codebase</th><th align="center">Description</th><th align="left">Codebase</th><th align="center">Description</th></tr></thead><tbody><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">AddrIndexer</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Mnemonic</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">btc</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Address</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Network</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">client</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Amount</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Node</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">coins</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Block</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">NodeClient</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">consensus</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Chain</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Opcode</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">hd</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">ChainEntry</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Outpoint</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">indexer</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Coin</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Output</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">logger</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">CoinEntry</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Peer</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">mempool</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">CoinView</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Pool</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">mining</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Coins</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Program</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">net</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Fees</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">SPVNode</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">networks</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">FullNode</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Script</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">node</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">HDPrivateKey</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">ScriptNum</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">packets</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">HDPublicKey</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">SigCache</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">pkg</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Headers</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Stack</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">policy</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Indexer</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">TX</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">primitives</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Input</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">TXIndexer</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">protocol</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">InvItem</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">URI</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">script</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">KeyRing</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">WalletClient</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">set</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">MTX</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">WalletDB</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">util</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Mempool</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Witness</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">utils</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">MempoolEntry</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">WorkerPool</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">wallet</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">MerkleBlock</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">blockchain</a></td><td align="center">option</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">workers</a></td><td align="center">option</td></tr><tr><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">Miner</a></td><td align="center">class</td><td align="left"><a href="https://github.com/stevekeol/Bcoin/tree/master/lib" target="_blank" rel="noopener noreferrer">blockstore</a></td><td align="center">option</td><td align="left">-------</td><td align="center">------</td></tr></tbody></table><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Notice</h5></div><div class="admonition-content"><p>æ¯ä¸ªclasså’Œoptionå¯¹åº”çš„ä½¿ç”¨å’Œå…·ä½“è¯¦æƒ…: 1. Chromeæ§åˆ¶å°å±•å¼€æŸ¥çœ‹è¯¦æƒ…æ¥å£ç­‰; 2. æŸ¥çœ‹æºç </p></div></div></li></ul><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">2.2 åœ¨NodeJSç«¯è¿è¡Œ</div><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">node docs</span><span class="token operator">/</span><span class="token plain">examples</span><span class="token operator">/</span><span class="token plain">fullnode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">js</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p><a href="#pit_1">ğŸ’¥å‘ğŸ’¥ <code>cannot find module &#x27;bcrypto.node&#x27;çš„è§£å†³æ–¹æ¡ˆ</code></a></p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-æœ€ç®€å¯åŠ¨åˆ†æ"></a>ğŸ“ æœ€ç®€å¯åŠ¨åˆ†æ<a class="hash-link" href="#-æœ€ç®€å¯åŠ¨åˆ†æ" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="é»˜è®¤demoçš„åŸç”Ÿindexhtmlè§£æbrowserç‰ˆ"></a>é»˜è®¤Demoçš„åŸç”Ÿindex.htmlè§£æ(Browserç‰ˆ) <span id="1"></span><a class="hash-link" href="#é»˜è®¤demoçš„åŸç”Ÿindexhtmlè§£æbrowserç‰ˆ" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">index.html demoè§£æï¼ˆåˆ›å»ºæµç¨‹å¦‚ä¸‹å›¾ï¼‰</div><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * Reference: create-a-blockchain-and-mempool.js</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * åœ¨å†…å­˜ä¸­åˆ›å»ºåŒºå—é“¾å’Œäº¤æ˜“æ± </span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">Taiki</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">Bcoin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/** è®¾ç½®bcoinçš„ç¯å¢ƒä¸º`å›å½’æµ‹è¯•` */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token maybe-class-name">Taiki</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;regtest&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/** 1. Bcoin.blockstoreåœ¨åˆé€‚çš„å­˜å‚¨ç©ºé—´ä¸­åˆ›å»ºåŒºå—(æ­¤å¤„æ˜¯è¯´æ˜åœ¨å†…å­˜ä¸­ä»¥çº¢é»‘æ ‘åˆ›å»ºblockchain,mempool,miner) */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> blocks </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taiki</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">blockstore</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">create</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    memory</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/** 2. Bcoin.ChainåŸºäºè¿™äº›åŒºå—åˆ›å»ºé“¾ */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> chain </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">bcoin</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">Chain</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;regtest&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    memory</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    blocks</span><span class="token operator">:</span><span class="token plain"> blocks</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/** 3. Bcoin.MempoolåŸºäºè¿™æ¡é“¾åˆ›å»ºäº¤æ˜“æ±  */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> mempool </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">bcoin</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">Mempool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    chain</span><span class="token operator">:</span><span class="token plain"> chain</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/** Bcoin.MineråŸºäºè¿™æ¡é“¾å’Œäº¤æ˜“æ± åˆ›å»ºçŸ¿å·¥ */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> miner </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">bcoin</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">Miner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    chain</span><span class="token operator">:</span><span class="token plain"> chain</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    mempool</span><span class="token operator">:</span><span class="token plain"> mempool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    useWorkers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç¡®ä¿çŸ¿å·¥ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/** æ‰“å¼€chain */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> blocks</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> chain</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/** æ‰“å¼€Miner(åˆå§‹åŒ–æ•°æ®åº“ç­‰)(çŸ¿å·¥å°†éšå«çš„è°ƒç”¨mempool.open()) */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> miner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/** åˆ›å»ºä¸€ä¸ªCPUå‹çš„çŸ¿å·¥ä½œä¸š */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> job </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> miner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">createJob</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/** å¼‚æ­¥æ‰§è¡Œè¯¥ä½œä¸š */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> block </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> job</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">mineAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/** å°†è¯¥å—ç¼€è¿åˆ°é“¾ä¸Š */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> chain</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">block</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Adding %s to the blockchain.&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> block</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">rhash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    process</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">exit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * (`npm run _devAll`: Bcoinå·²ç»æŒ‚è½½åœ¨å…¨å±€globalä¸Šäº†)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * åœ¨globalä¸ŠæŒ‚è½½bfsprocessï¼Œå…¶å€¼æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token known-class-name class-name">Reflect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;bfsprocess&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;jiege&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token known-class-name class-name">Reflect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Taiki&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">Bcoin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä¸šåŠ¡ä¸­å°±å¯ä»¥ä½¿ç”¨Taiki!(æ­¤æ—¶Bcoin/bcoin/Taikiå‡å¯ç”¨)  </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="Taikiåˆ›å»ºå·¥ä½œå¯¹è±¡çš„å¤§è‡´æµç¨‹" src="/assets/images/workProcudure-c5aa4bcc956ce466da9fb3e54a97cc7b.svg"></p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Notice</h5></div><div class="admonition-content"><p>å½“ä½ æ·±åˆ»ç†è§£äº†ä¸Šå›¾ä¸­çš„æµç¨‹ï¼Œä½ åº”å½“çŸ¥é“åœ¨ä¸šåŠ¡ä¸­åˆ›å»ºå·¥ä½œå¯¹è±¡æ—¶çš„ä¾èµ–å…³ç³»å¯¼è‡´çš„å…ˆåé¡ºåº.</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="é»˜è®¤demoçš„æœ€ç®€indexjsè§£ænodejsç‰ˆ"></a>é»˜è®¤Demoçš„æœ€ç®€index.jsè§£æ(NodeJSç‰ˆ)<a class="hash-link" href="#é»˜è®¤demoçš„æœ€ç®€indexjsè§£ænodejsç‰ˆ" title="Direct link to heading">#</a></h4><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-åˆ›å»ºä»£ç†æœåŠ¡å™¨è¿æ¥çœŸå®æ¯”ç‰¹å¸ç½‘ç»œ"></a>ğŸ“ åˆ›å»ºä»£ç†æœåŠ¡å™¨è¿æ¥çœŸå®æ¯”ç‰¹å¸ç½‘ç»œ<a class="hash-link" href="#-åˆ›å»ºä»£ç†æœåŠ¡å™¨è¿æ¥çœŸå®æ¯”ç‰¹å¸ç½‘ç»œ" title="Direct link to heading">#</a></h3><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>NOTICE</h5></div><div class="admonition-content"><p>åŸºäºå®‰å…¨è€ƒè™‘ï¼Œæµè§ˆå™¨ä¸å…è®¸åœ¨è„šæœ¬ä¸­å‘åˆ«çš„æœåŠ¡å™¨åˆ›å»ºTCPè¿æ¥;ä½†å¯ä»¥åˆ›å»ºä¸€ä¸ªæœ¬åœ°ä»£ç†æœåŠ¡å™¨å°†è·å–çš„æ•°æ®é€šè¿‡websocketä¼ é€’ç»™browser.</p></div></div><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">æœ¬åœ°ä»£ç†æœåŠ¡å™¨çš„å¯åŠ¨</div><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm run _devProxyServer </span><span class="token comment" style="color:rgb(98, 114, 164)">// å¯åŠ¨çš„æ˜¯browser/proxyServer/server.js</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>åŒæ ·çš„<code>server.js</code>ä½œä¸ºä»£ç†æœåŠ¡å™¨ï¼Œä»£ç†çš„<code>browser/proxyServer/index.js</code>æ–‡ä»¶åŒæ ·æ˜¯cmsé£æ ¼(require)ï¼Œä¹Ÿéœ€è¦ <code>bpkg --browser --output browser/proxyServer/bundle.js browser/proxyServer/index.js</code>ã€‚å¯ä¸´æ—¶å°†è¯¥æ–‡ä»¶ä¸­çš„memory: false -&gt; true. (é¡µé¢æ•ˆæœè§ä¸‹å›¾)</li></ul><p><img alt="å®æ—¶çš„webç«¯çš„åŒºå—é“¾(è¿æ¥åˆ°äº†çœŸå®çš„èŠ‚ç‚¹ç½‘ç»œ)" src="/assets/images/realtimeBcoin-bc0e3d4384e61a0e0ce64b25ec324df7.jpg"></p><blockquote><p><a href="#pit_2">ğŸ’¥å‘ğŸ’¥ <code>cannot read file or directory: /.bcoin/blocks çš„è§£å†³æ–¹æ¡ˆ</code></a></p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä»£ç†æœåŠ¡å™¨serverçš„å®ç°"></a>ä»£ç†æœåŠ¡å™¨serverçš„å®ç°<a class="hash-link" href="#ä»£ç†æœåŠ¡å™¨serverçš„å®ç°" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">browser/server.js</div><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> bweb </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;bweb&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> fs </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;bfile&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">WSProxy</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./wsproxy&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// const index = fs.readFileSync(`${__dirname}/index.html`); // è‡ªå®šä¹‰çš„ä¸»é¡µ</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> index </span><span class="token operator">=</span><span class="token plain"> fs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">readFileSync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">__dirname</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)">/_index.html</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// å®˜æ–¹æä¾›çš„ç¤ºä¾‹ä¸»é¡µ</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// const app = fs.readFileSync(`${__dirname}/app.js`); // è‡ªå®šä¹‰çš„</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> app </span><span class="token operator">=</span><span class="token plain"> fs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">readFileSync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">__dirname</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)">/src/_app.js</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// å®˜æ–¹æä¾›çš„</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// const worker = fs.readFileSync(`${__dirname}/worker.js`);</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> proxy </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">WSProxy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ports</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">8333</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">18333</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">18444</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">28333</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">28901</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> server </span><span class="token operator">=</span><span class="token plain"> bweb</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">server</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  port</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">process</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">argv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token number">5000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  sockets</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">server</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">use</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">server</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">proxy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">server</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">server</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">send</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">200</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;html&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">server</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/app.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">send</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">200</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// server.get(&#x27;/worker.js&#x27;, (req, res) =&gt; { res.send(200, worker, &#x27;js&#x27;) });</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">proxy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">attach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">server</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">http</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">server</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>QUESTION</h5></div><div class="admonition-content"><p>å…¶å®æ˜¯åœ¨PCç«¯å¼€äº†ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨,æ¥ä»£ç†è¯¥æµè§ˆå™¨ç«¯çš„èµ„æºè¯·æ±‚å’Œæ•°æ®ä¼ é€’;
å½“æœŸæœ›å®ç°ç§»åŠ¨ç«¯å…¨èŠ‚ç‚¹æ—¶,èƒ½å¦å»æ‰æˆ–è€…fixupè¯¥server.jsçš„å®ç°?</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="websocketä»£ç†çš„å®ç°"></a>WebSocketä»£ç†çš„å®ç°<a class="hash-link" href="#websocketä»£ç†çš„å®ç°" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">browser/wsproxy.js</div><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">WSProxy</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">EventEmitter</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">constructor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">options </span><span class="token parameter operator">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">super</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">options</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">ports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">ports</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/** ? */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">io</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> bsock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">server</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/** æ¯ä¸ªä¸ä»£ç†æœåŠ¡å™¨çš„websocketè¿æ¥ä½œä¸ºkeyï¼Œè¯¥socketçš„çŠ¶æ€ä½œä¸ºvalue */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">sockets</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">WeakMap</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">init</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">init</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">io</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">emit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">io</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;socket&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">handleSocket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * 1. æå–å‡ºwsçš„è¿æ¥çŠ¶æ€è¯¦æƒ…;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * 2. å°†(ws, state)ä½œä¸ºé”®/å€¼å­˜å…¥Map</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * 3. æ³¨å†Œé”™è¯¯äº‹ä»¶;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * 4. ç»‘å®štcpè¿æ¥äº‹ä»¶(???) ws.bind/ws.fire/ws.destory/...</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * @param  {[type]} ws [description]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * @return {[type]}    [description]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">handleSocket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/** ä¼ å…¥çš„å‚æ•°: è¯¥ä»£ç†æœåŠ¡å™¨ã€æ¯ä¸€ä¸ªåˆ›å»ºçš„websocketè¿æ¥å¯¹è±¡ */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> state </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">SocketState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">sockets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">set</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">emit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">bind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tcp connect&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">port</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">handleConnect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">handleConnect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">ws</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> port</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> state </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">sockets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">assert</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token spread operator">...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> raw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> addr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      raw </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">IP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toBuffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      addr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">IP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">raw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Client gave a bad host: %s (%s).&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token spread operator">...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">destroy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">       * æ ¹æ®æš‚å­˜çš„stateå°è¯•wsè¿æ¥</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">       * è¯¸å¦‚ Connecting to 83.58.134.138:8333 (127.0.0.1).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">       * ç–‘é—®ï¼š ä¸Šé¢ä¼ å…¥çš„wsè¿æ¥å’Œæ­¤å¤„è¦å°è¯•å»ºç«‹çš„socketï¼Œæœ‰ä½•å¼‚åŒ????</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">       */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      socket </span><span class="token operator">=</span><span class="token plain"> state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">connect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> addr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Connecting to %s (%s).&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">remoteHost</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token spread operator">...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">destroy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;connect&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">fire</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tcp connect&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">remoteAddress</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">remotePort</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;data&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">fire</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tcp data&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;hex&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;error&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">fire</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tcp error&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">message</span><span class="token operator">:</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">code</span><span class="token operator">:</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">code</span><span class="token plain"> </span><span class="token operator">||</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;timeout&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">fire</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tcp timeout&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;close&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Closing %s (%s).&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">remoteHost</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">fire</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tcp close&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">destroy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">     * ws.bing() å’Œ socket.on() çš„åŒºåˆ«æ˜¯?</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">     * @param  {[type]} &#x27;tcp  data&#x27;         [description]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">     * @param  {[type]} (data [description]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">     * @return {[type]}       [description]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">bind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tcp data&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">typeof</span><span class="token plain"> data </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;string&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;hex&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">bind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tcp keep alive&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">enable</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> delay</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setKeepAlive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">enable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> delay</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">bind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tcp no delay&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">enable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setNoDelay</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">enable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">bind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tcp set timeout&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">timeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">timeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">bind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tcp pause&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">pause</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">bind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tcp resume&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resume</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ws</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;disconnect&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">destroy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter operator">...</span><span class="token parameter">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    process</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">stdout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;wsproxy: &#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/** å°†æŸä¸ªä»£ç†(caller)é™„ç€åœ¨serverä¸Šï¼Œä½¿ä¹‹èƒ½ä»£ç†serverçš„è¿›å‡º(éœ€è¦é‡ç‚¹çœ‹çœ‹å…¶å®ç°!!!) */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">attach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">server</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">io</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">attach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">server</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">SocketState</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">constructor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">server</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">socket</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">host</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">remoteHost</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * [connect description]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * @param  {[type]} port [description]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * @param  {[type]} host å¯ç±»æ¯”äº IP Address</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   * @return {[type]}      [description]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">   */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">connect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">port</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">/**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">     * net.connect(net.createConnection): </span></span><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">     */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">socket</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> net</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">connect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">remoteHost</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">IP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toHostname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">socket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ¼”ç¤ºé¡µé¢çš„å…·ä½“åŠŸèƒ½"></a>æ¼”ç¤ºé¡µé¢çš„å…·ä½“åŠŸèƒ½<a class="hash-link" href="#æ¼”ç¤ºé¡µé¢çš„å…·ä½“åŠŸèƒ½" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">browser/_index.html</div><div class="codeBlockContent_hGly html"><pre tabindex="0" class="prism-code language-html codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">&lt;!-- æœ€æ–°20æ¡tx --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">tx</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Chain State: </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">span</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">state</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">span</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Last 20 Blocks/TXs:</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">tx</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">&lt;!-- å®æ—¶æ—¥å¿—æ‰“å° --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">log</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">log</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">form</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">rpc</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">rpc</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">action</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">#</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">input</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">text</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">cmd</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">cmd</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)">    </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">placeholder</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">RPC command (e.g. getblockchaininfo)</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">form</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">wallet</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">wallet</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">form</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">send</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">send</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">action</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">#</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">input</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">text</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">address</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">address</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">placeholder</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">Address</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">input</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">text</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">amount</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">amount</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">placeholder</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">Amount (BTC)</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">input</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">submit</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">Send</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">form</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">input</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">button</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">newaddr</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">New Address</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">&lt;!-- ç‚¹å‡»æŸä¸ªtxæ—¶,å‡ºç°çš„åŒºå—è¯¦æƒ… --&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">floating</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">floating</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="é¡µé¢éƒ¨åˆ†åŠŸèƒ½å’Œå®ç°é€»è¾‘"></a>é¡µé¢éƒ¨åˆ†åŠŸèƒ½å’Œå®ç°é€»è¾‘<a class="hash-link" href="#é¡µé¢éƒ¨åˆ†åŠŸèƒ½å’Œå®ç°é€»è¾‘" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">browser/src/app.js</div><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token spread operator">...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> node </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">FullNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  hash</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  query</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  prune</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  network</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;main&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  memory</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æš‚æ—¶false -&gt; true</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  logConsole</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  workers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  workerFile</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/worker.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">createSocket</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">port</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> proto </span><span class="token operator">=</span><span class="token plain"> global</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">protocol</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;https:&#x27;</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;wss&#x27;</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;ws&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> hostname </span><span class="token operator">=</span><span class="token plain"> global</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token maybe-class-name">ProxySocket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">connect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">proto</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)">://</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">hostname</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  logger</span><span class="token operator">:</span><span class="token plain"> logger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  plugins</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">plugin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token spread operator">...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">/** åœ¨å½“å‰èŠ‚ç‚¹nodeä¸ŠæŒ‰éœ€åŠ¨æ€å¢åŠ æ–°çš„åŠŸèƒ½: é’±åŒ…æ•°æ®åº“ */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">wdb</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;walletdb&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token spread operator">...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// block/tx äº‹ä»¶ä¼šæºå¸¦å…¥å‚(item, entry)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">addItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">item</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> entry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> height </span><span class="token operator">=</span><span class="token plain"> entry </span><span class="token operator">?</span><span class="token plain"> entry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">height</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">/** ä¿ç•™æœ€å20æ¡tx */</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">items</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">20</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> el </span><span class="token operator">=</span><span class="token plain"> items</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">shift</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    tdiv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">removeChild</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">el</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    el</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">onmouseup</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> el </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">create</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">+</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">&lt;a style=&quot;display:block;&quot; href=&quot;#</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">item</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation function" style="color:rgb(80, 250, 123)">rhash</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)">&quot;&gt;</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">+</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">item</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation function" style="color:rgb(80, 250, 123)">rhash</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)"> (</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">height</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)"> - </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation function" style="color:rgb(80, 250, 123)">kb</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string interpolation">item</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation function" style="color:rgb(80, 250, 123)">getSize</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)">)</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&lt;/a&gt;&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tdiv</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">appendChild</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">el</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">setMouseup</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">el</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  items</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">el</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  chainState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">innerHTML</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">+</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">tx=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">node</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">chain</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">db</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">state</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">tx</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">+</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">coin=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">node</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">chain</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">db</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">state</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">coin</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">+</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">value=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">Amount</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation function" style="color:rgb(80, 250, 123)">btc</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string interpolation">node</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">chain</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">db</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">state</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation">value</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token spread operator">...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// é“¾ä¸Šæ³¨å†Œäº†&quot;block&quot;åŒºå—äº‹ä»¶</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">chain</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;block&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> addItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// å†…å­˜äº¤æ˜“æ± æ³¨å†Œäº†&quot;tx&quot;äº¤æ˜“äº‹ä»¶</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">mempool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tx&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> addItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token spread operator">...</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">startSync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ¯ä¸ªåŒºå—çš„å†…å®¹ç¤ºä¾‹ä¸è§£é‡Š"></a>æ¯ä¸ªåŒºå—çš„å†…å®¹ç¤ºä¾‹ä¸è§£é‡Š<a class="hash-link" href="#æ¯ä¸ªåŒºå—çš„å†…å®¹ç¤ºä¾‹ä¸è§£é‡Š" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">æŸä¸ªåŒºå—çš„è¯¦æƒ…</div><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;0000000000081b6366971004b3b017756fa7daaaf38083f34138c116926c13bd&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;prevBlock&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;000000000002c278647e75f50441d208044290a13737d90b7aed05cc9d371ba8&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;merkleRoot&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;86d423aae8f651ec1c03510984059daf2c14d61b055d026643f9da8f32814da5&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;time&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1290707082</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;bits&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">453610282</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;nonce&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1487190932</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;txs&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;86d423aae8f651ec1c03510984059daf2c14d61b055d026643f9da8f32814da5&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;witnessHash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;86d423aae8f651ec1c03510984059daf2c14d61b055d026643f9da8f32814da5&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;mtime&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1630032569</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;index&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;prevout&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;0000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;index&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">4294967295</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;script&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;042a8b091b0130&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;witness&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;00&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;sequence&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">4294967295</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token null keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">5000000000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;script&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;4104cf34e62e1c5b842792f916425507b8bb7de7b3243308dd32c6089721aa77b254c45a6566e4067d063271673899142f2a5b13a60b2261ed95642d907270c1d8c2ac&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;162p59yYyQ7NJ93x2QFR7e5EnEM93pzMKy&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;locktime&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;hex&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;01000000010000000000000000000000000000000000000000000000000000000000000000ffffffff07042a8b091b0130ffffffff0100f2052a01000000434104cf34e62e1c5b842792f916425507b8bb7de7b3243308dd32c6089721aa77b254c45a6566e4067d063271673899142f2a5b13a60b2261ed95642d907270c1d8c2ac00000000&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å®æ—¶æ—¥å¿—ç¤ºä¾‹ä¸è§£é‡Š"></a>å®æ—¶æ—¥å¿—ç¤ºä¾‹ä¸è§£é‡Š<a class="hash-link" href="#å®æ—¶æ—¥å¿—ç¤ºä¾‹ä¸è§£é‡Š" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">å®æ—¶æ—¥å¿—(æ¯1000æ¡æ¸…ç©ºä¸€æ¬¡)</div><div class="codeBlockContent_hGly markdown"><pre tabindex="0" class="prism-code language-markdown codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059231 [info] (chain) Block 000000000000083989db0077934141d6b488f72071f8d699755c6c6c61caffbc (137740) added to chain (size=4444 txs=15 time=38).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059231 [debug] (net) Status: time=2011-07-24T05:13:49Z height=137740 progress=20.17% orphans=0 active=30260 target=436857860 peers=8</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059234 [debug] (peer) Peer has not responded to ping (83.163.211.75:8333).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059236 [debug] (chain) Memory: rss=0mb, js-heap=0/0mb native-heap=0mb</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059236 [info] (chain) Block 000000000000001cd91df004a86727f414cadc10e8a8c2990735323351309988 (137760) added to chain (size=12726 txs=34 time=39).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059236 [debug] (net) Status: time=2011-07-24T07:07:04Z height=137760 progress=20.17% orphans=0 active=30240 target=436857860 peers=8</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059238 [info] (net) Received 1 addrs (hosts=1000, peers=8) (83.163.211.75:8333).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059238 [info] (net) Received 23 addrs (hosts=1000, peers=8) (138.201.252.11:8333).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059239 [info] (net) Received 2 addrs (hosts=1000, peers=8) (190.104.249.44:8333).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059243 [debug] (chain) Memory: rss=0mb, js-heap=0/0mb native-heap=0mb</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059243 [info] (chain) Block 00000000000001ed0c8ffb96db98c36a15a081efd9d47491e3f625ca94cef46b (137780) added to chain (size=49192 txs=136 time=142).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059243 [debug] (net) Status: time=2011-07-24T10:08:08Z height=137780 progress=20.17% orphans=0 active=30220 target=436857860 peers=8</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059251 [debug] (chain) Memory: rss=0mb, js-heap=0/0mb native-heap=0mb</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059251 [info] (chain) Block 0000000000000615bf1e85695a47abc79f6598e0d67636ddba259d59a0394289 (137800) added to chain (size=35022 txs=85 time=86).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059251 [debug] (net) Status: time=2011-07-24T13:24:09Z height=137800 progress=20.17% orphans=0 active=30200 target=436857860 peers=8</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059252 [info] (net) Received 1 addrs (hosts=1000, peers=8) (190.104.249.44:8333).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059261 [info] (net) Received 1 addrs (hosts=1000, peers=8) (83.163.211.75:8333).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059297 [info] (net) Received 2 addrs (hosts=1000, peers=8) (83.163.211.75:8333).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059300 [info] (net) Received 1 addrs (hosts=1000, peers=8) (138.201.252.11:8333).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059302 [info] (net) Received 2 addrs (hosts=1000, peers=8) (91.204.99.178:8333).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059303 [debug] (chain) Memory: rss=0mb, js-heap=0/0mb native-heap=0mb</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059303 [info] (chain) Block 000000000000007fba400d9fd74035edf49462c7d891052ef987f3870d159227 (137920) added to chain (size=16286 txs=40 time=54).</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059303 [debug] (net) Status: time=2011-07-25T07:06:11Z height=137920 progress=20.19% orphans=0 active=30080 target=436857860 peers=8</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059308 [debug] (chain) Memory: rss=0mb, js-heap=0/0mb native-heap=0mb</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1630059308 [info] (chain) Block 00000000000002ecc1d10ad5ef2ba014ca7d2bc6f4ededf18d901ba585c4f337 (137940) added to chain (size=25971 txs=55 time=130).</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><hr><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-æ ·ä¾‹ï¼šconnect-to-the-p2p-networkjs"></a>ğŸ« æ ·ä¾‹ï¼š<code>connect-to-the-p2p-network.js</code><a class="hash-link" href="#-æ ·ä¾‹ï¼šconnect-to-the-p2p-networkjs" title="Direct link to heading">#</a></h5><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-bcoin-é¡¹ç›®æœŸæœ›æ‰“åŒ…åçš„æ ·å­"></a>ğŸ“ <code>Bcoin</code> é¡¹ç›®æœŸæœ›æ‰“åŒ…åçš„æ ·å­<a class="hash-link" href="#-bcoin-é¡¹ç›®æœŸæœ›æ‰“åŒ…åçš„æ ·å­" title="Direct link to heading">#</a></h5><ul><li><p>æœŸæœ›ä¸­çš„ä½¿ç”¨ï¼ˆ<code>nodejs</code> ç«¯çš„ä½¿ç”¨ï¼‰</p><blockquote><p>ç»è¿‡é…ç½® <code>webpack.node.js</code> å·²ç»å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼›</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Bcoin</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;bcoin.min.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// é‡ç‚¹æ˜¯å®ç°è¿™ä¸€æ­¥ï¼šèƒ½å¤Ÿæ‰“åŒ…æˆä¸€ä¸ªESåŒ…</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> node </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Bcoin</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">FullNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    memory</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    network</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;testnet&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    workers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">connect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;connect&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">entry</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> block</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;%s (%d) added to chain.&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> entry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">rhash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> entry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">block</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;tx&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">tx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;%s added to mempool.&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> tx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">txid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">startSync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">stack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  process</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">exit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-bcoin-å¦‚ä½•æ‰“åŒ…æˆæµè§ˆå™¨å¯ç”¨çš„æ ·å­"></a>ğŸ“ <code>Bcoin</code> å¦‚ä½•æ‰“åŒ…æˆæµè§ˆå™¨å¯ç”¨çš„æ ·å­<a class="hash-link" href="#-bcoin-å¦‚ä½•æ‰“åŒ…æˆæµè§ˆå™¨å¯ç”¨çš„æ ·å­" title="Direct link to heading">#</a></h5><blockquote><p><code>bcoin</code> æºç ä¸­ <code>docs/examples/fullnode.js</code> ç­‰æ–‡ä»¶ï¼Œç›´æ¥ç”¨ <code>node</code> å³å¯è¿è¡Œã€‚é‚£ä¹ˆåœ¨æµè§ˆå™¨ä¸­å‘¢ï¼Ÿ</p></blockquote><ul><li><p>å› ä¸º <code>bcoin</code> æºç ä½¿ç”¨ <code>require()</code> æ–¹å¼ï¼Œå› æ­¤ <code>NodeJS</code> æœåŠ¡å™¨å¯ä»¥è¿è¡Œï¼Œä½†æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡Œã€‚å› æ­¤å¯ä»¥ç”¨ <code>webpack</code> å’Œ <code>rollup</code> æ¥ç¼–è¯‘ã€‚</p></li><li><p>æˆ‘ä»¬éœ€è¦å°†è¿è¡Œ <code>bcoin</code> çš„ç½‘ç»œæµè§ˆå™¨ï¼Œè¿æ¥åˆ°å®é™…çš„æ¯”ç‰¹å¸å¯¹ç­‰ç½‘ç»œã€‚å› ä¸ºå‡ºäºå®‰å…¨åŸå› ï¼ŒWebæµè§ˆå™¨ä¸å…è®¸è„šæœ¬åˆ›å»ºä¸å…¶å®ƒæœåŠ¡å™¨çš„TCPé“¾æ¥ã€‚å› æ­¤éœ€è¦ï¼š<code>è¿è¡Œä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œè¯¥ä»£ç†æœåŠ¡å™¨ä»£è¡¨webå®¢æˆ·ç«¯å»ºç«‹ TCP è¿æ¥ï¼Œå¹¶å°†æ‰€æœ‰æ•°æ®é€šè¿‡ websocket è½¬å‘å›æµè§ˆå™¨</code>ã€‚</p></li><li><p>ã€é—®é¢˜ã€‘webpack5 ä¸èƒ½å°†nodeå†…ç½®çš„æ¨¡å—å¦‚fs.urlç­‰ç¼–è¯‘æˆæµè§ˆå™¨å¯ç”¨çš„ä»£ç ã€‚</p></li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-å› æ­¤ï¼š"></a>ğŸ“ å› æ­¤ï¼š<a class="hash-link" href="#-å› æ­¤ï¼š" title="Direct link to heading">#</a></h5><ul><li><p>ä¸èƒ½ç¼–è¯‘æˆ bcoin-browserç‰ˆæœ¬</p></li><li><p>ä¸èƒ½åˆ†æ ç¼–è¯‘æˆçš„ app.jsçš„å†…å®¹</p></li></ul><hr><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-rollupæ‰“åŒ…ï¼ˆè‡ªå®šä¹‰çš„ï¼‰"></a>ğŸ“ Rollupæ‰“åŒ…ï¼ˆè‡ªå®šä¹‰çš„ï¼‰<a class="hash-link" href="#-rollupæ‰“åŒ…ï¼ˆè‡ªå®šä¹‰çš„ï¼‰" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// package.json</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;build&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;node ./scripts/build.js&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// build.js</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> configs </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;./configs&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> rollup </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;rollup&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">configs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> output</span><span class="token operator">:</span><span class="token plain"> outputOptions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">inputOption </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> bundle </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> rollup</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">rollup</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">inputOption</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token known-class-name class-name">Array</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">isArray</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">outputOptions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    outputOptions </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">outputOptions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> outputOption </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> outputOptions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> bundle</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">outputOption</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// configs.js</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> babel </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;rollup-plugin-babel&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> commonjs </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@rollup/plugin-commonjs&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> eslint </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;rollup-plugin-eslint&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> prettier </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;rollup-plugin-prettier&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> nodeResolve </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@rollup/plugin-node-resolve&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> sizeSnapshot </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;rollup-plugin-size-snapshot&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> strip </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;@rollup/plugin-strip&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> terser </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;rollup-plugin-terser&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> format </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;umd&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Bcoin&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> input </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;src/index.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// Rollupçš„å…¥å£æ–‡ä»¶ï¼ˆä¸€èˆ¬éœ€è¦è°ƒæ•´ï¼‰</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> extensions </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> exclude </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;node_modules/**&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> beautifyPlugins </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token function" style="color:rgb(80, 250, 123)">prettier</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> parser</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;babel&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sizeSnapshot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> minimizePlugins </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token function" style="color:rgb(80, 250, 123)">terser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sizeSnapshot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> banner </span><span class="token operator">=</span><span class="token plain"> </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">/*</span></span><span class="token-line" style="color:#F8F8F2"><span class="token template-string string" style="color:rgb(255, 121, 198)">  * Copyright (c) 2021 Bcoin</span></span><span class="token-line" style="color:#F8F8F2"><span class="token template-string string" style="color:rgb(255, 121, 198)">  * Author: stevekeol</span></span><span class="token-line" style="color:#F8F8F2"><span class="token template-string string" style="color:rgb(255, 121, 198)">  * Email: stevekeol.x@gmail.com</span></span><span class="token-line" style="color:#F8F8F2"><span class="token template-string string" style="color:rgb(255, 121, 198)">  * Time: 2021-01-18</span></span><span class="token-line" style="color:#F8F8F2"><span class="token template-string string" style="color:rgb(255, 121, 198)">*/</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    input</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    plugins</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">eslint</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> fix</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token comment" style="color:rgb(98, 114, 164)">// strip({ functions: [&#x27;startTracing&#x27;, &#x27;stopTracing&#x27;] }), // éœ€è¦å¿½ç•¥çš„å‡½æ•°</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">nodeResolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> extensions </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">commonjs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">babel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> exclude</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> extensions </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    output</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        banner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        format</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        file</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;build/bcoin.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        plugins</span><span class="token operator">:</span><span class="token plain"> beautifyPlugins</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        banner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        format</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        file</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;build/bcoin.min.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        plugins</span><span class="token operator">:</span><span class="token plain"> minimizePlugins</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    input</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    plugins</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">eslint</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> fix</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">nodeResolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> extensions </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">commonjs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">babel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> exclude</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> extensions </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    output</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        banner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        format</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        file</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;build/bcoin-dev.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        plugins</span><span class="token operator">:</span><span class="token plain"> beautifyPlugins</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        banner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        format</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        file</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;build/bcoin-dev.min.js&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        plugins</span><span class="token operator">:</span><span class="token plain"> minimizePlugins</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="-bpkg-æ‰“åŒ…ï¼ˆäº²æµ‹å¯è¡Œï¼‰"></a>ğŸ“ <code>bpkg</code> æ‰“åŒ…ï¼ˆäº²æµ‹å¯è¡Œï¼‰<a class="hash-link" href="#-bpkg-æ‰“åŒ…ï¼ˆäº²æµ‹å¯è¡Œï¼‰" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">bcoin-browserçš„æ‰“åŒ…å‹ç¼©</div><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> bpkg --browser --umd --plugin [ uglify-es --toplevel ] --name Bcoin --output browser/app.js lib/bcoin-browser.js</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">&quot;&quot;</div><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> bpkg --browser --plugin [ uglify-es --toplevel ] --output browser/worker.js /lib/workers/worker.js</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><code>bpkg</code>: ä¸€æ¬¾browserç«¯æ‰“åŒ…çš„å·¥å…·</li><li><code>--browser</code>: è®¾ç½®æ‰“åŒ…ç¯å¢ƒä¸ºæµè§ˆå™¨</li><li><code>--plugin [ uglify-es --toplevel ]</code>: ä»£ç å‹ç¼©</li><li><code>--name</code>: å…¨å±€å</li><li><code>--umd</code>: æŒ‚è½½å…¨å±€å</li><li><code>--output</code>: è¾“å‡ºæ–‡ä»¶çš„è·¯å¾„å’Œæ–‡ä»¶å</li><li><code>lib/hd/index.js</code>: å…¥å£æ–‡ä»¶</li></ul><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">æ‰“åŒ…ä¸€ä¸ªHDæ¨¡å—</div><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">bpkg --browser --standalone --plugin [ uglify-es --toplevel ] --name HD --output browser/HD.js lib/hd/index.js</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><code>standalone</code>: å¼ºåˆ¶é€šç”¨å…¼å®¹æ€§ï¼Œå…è®¸æˆ‘ä»¬ä»å…¨å±€èŒƒå›´è®¿é—®æ¨¡å—ã€‚(ä½†æ˜¯ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ï¼Œæç¤ºè¿™æ˜¯ä¸ªéæ³•å‚æ•°)</li></ul><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">æ‰“åŒ…ä¸€ä¸ªKeyRingæ¨¡å—ï¼ˆå¯ä»¥ä»å¯†é’¥æå–å‡ºåœ°å€ï¼‰</div><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">bpkg --browser --standalone --plugin [ uglify-es --toplevel ] --name KeyRing --output browser/KeyRing.js lib/primitives/keyring.js</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>ğŸ‘‹ğŸ»ğŸ˜ğŸ’‹(<code>done</code>)â„ï¸(<code>todo</code>)ğŸŒ(<code>doing</code>)ğŸ”’ âœï¸ğŸ†ğŸŒ½ğŸ“ğŸ‹ ğŸ†ğŸ‘ğŸ‡ğŸŒ¹ ğŸ“ğŸ”‹ğŸ“«ğŸ’Šâš½ğŸ€âœˆï¸ğŸ’¯âš¡ğŸŒŠğŸ’ğŸ«ğŸ´ğŸŒğŸğŸ–</p></blockquote><blockquote><p>å®˜æ–¹è¡¨æƒ…: âš¡ï¸ğŸ’¸ğŸ’¥ğŸ’…ğŸ§âœ…âŒ(<code>fail</code>)ğŸ’šâš›ï¸âœ‚ï¸ğŸ¯ğŸ“(<code>reference</code>)ğŸ¦–ğŸŒğŸ’¾ğŸ“¦</p></blockquote><blockquote><p>åé¢è¦æŠŠä¸‹é¢çš„å†…å®¹åˆ†æ‹†åˆ°ä¸åŒçš„æ–‡ä»¶å¤¹ä¸­</p></blockquote><div class="codeBlockContainer_K1bP"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_eoMF">å¯ä»¥çœ‹çœ‹libp2pçš„ä¸€äº›å®ç°</div><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">Libp2p</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;libp2p&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">KadDHT</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;libp2p-kad-dht&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">Bootstrap</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;libp2p-bootstrap&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">TCP</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;libp2p-tcp&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">Mplex</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;libp2p-mplex&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NOISE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;libp2p-noise&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>å½“è¿è¡Œ <code>node browser/examples/conmect-to-peer.js</code>æ—¶ï¼Œæç¤º<code>GLIBC_2.28 not found</code></p></blockquote></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/stevekeol/Taiki-website/tree/master/docs/ESChain/Demo.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Commercial/README"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Readme</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/ESChain/README"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Readme Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#åŸºäºbcoinçš„-taiki-æ€»ä½“è§„åˆ’è·¯çº¿" class="table-of-contents__link">ğŸŒğŸŒåŸºäºBcoinçš„ <code>Taiki</code> æ€»ä½“è§„åˆ’è·¯çº¿ğŸŒğŸŒ</a><ul><li><a href="#-æœ€ç»ˆä¸‰ä¸ªç‰ˆæœ¬" class="table-of-contents__link">ğŸ‘‹ğŸ» æœ€ç»ˆä¸‰ä¸ªç‰ˆæœ¬</a></li><li><a href="#-browserç«¯è¿è¡Œå•ä½“bcoin" class="table-of-contents__link">ğŸ“ Browserç«¯è¿è¡Œå•ä½“bcoin</a></li><li><a href="#-browserç«¯æ”¯æŒwsproxyç›‘å¬å¹¶å“åº”é“¾ä¸Šäº‹ä»¶" class="table-of-contents__link">ğŸ‹ Browserç«¯æ”¯æŒwsProxy,ç›‘å¬å¹¶å“åº”é“¾ä¸Šäº‹ä»¶</a></li><li><a href="#-nodejsç«¯browserç«¯è¿è¡Œexamples" class="table-of-contents__link">âš½ NodeJSç«¯/Browserç«¯è¿è¡Œexamples</a></li><li><a href="#-è¯•ç”¨å¹¶é›†æˆæ¥å£å’Œæ ¸å¿ƒåŠŸèƒ½" class="table-of-contents__link">ğŸ‘ è¯•ç”¨å¹¶é›†æˆæ¥å£å’Œæ ¸å¿ƒåŠŸèƒ½</a></li><li><a href="#-åŸºäºreactè®¾è®¡åŒºå—åº”ç”¨çš„ç²¾ç¾é¡µé¢" class="table-of-contents__link">ğŸ‡ åŸºäºReactè®¾è®¡åŒºå—åº”ç”¨çš„ç²¾ç¾é¡µé¢</a></li><li><a href="#-æ”¯æŒè‡ªç”±æ‹”æ’çš„å…±è¯†åè®®" class="table-of-contents__link">ğŸŒ½ æ”¯æŒè‡ªç”±æ‹”æ’çš„å…±è¯†åè®®</a></li><li><a href="#-åˆç‰ˆçš„ç§»åŠ¨ç«¯å®‰å…¨èŠå¤©ç‚¹å¯¹ç‚¹è½¬è´¦äº¤æ˜“ä¸Šé“¾çš„åº”ç”¨rn" class="table-of-contents__link">ğŸ† åˆç‰ˆçš„ç§»åŠ¨ç«¯å®‰å…¨èŠå¤©/ç‚¹å¯¹ç‚¹è½¬è´¦/äº¤æ˜“ä¸Šé“¾çš„åº”ç”¨(RN)</a></li><li><a href="#-é«˜é˜¶ç‰ˆtaikiton" class="table-of-contents__link">ğŸ† é«˜é˜¶ç‰ˆTaiki(Ton)</a></li></ul></li><li><a href="#bcoinæºç çš„é¡¶å±‚æ¶æ„" class="table-of-contents__link">ğŸŒŠğŸŒŠBcoinæºç çš„é¡¶å±‚æ¶æ„ğŸŒŠğŸŒŠ</a><ul><li><a href="#-å„æ¨¡å—çš„åŠŸèƒ½å®šä¹‰ä»¥bcoin-browserjsä¸ºä¾‹" class="table-of-contents__link">ğŸ“¦ å„æ¨¡å—çš„åŠŸèƒ½å®šä¹‰(ä»¥bcoin-browser.jsä¸ºä¾‹)</a></li><li><a href="#-æŸ¥çœ‹ä¾èµ–æ–‡ä»¶æ ‘" class="table-of-contents__link">ğŸ“¦ æŸ¥çœ‹ä¾èµ–æ–‡ä»¶æ ‘</a></li><li><a href="#-æŸ¥çœ‹æŸä¸ªæ–‡ä»¶æ–‡ä»¶å¤¹çš„ä»£ç é‡" class="table-of-contents__link">ğŸ“¦ æŸ¥çœ‹æŸä¸ªæ–‡ä»¶/æ–‡ä»¶å¤¹çš„ä»£ç é‡</a></li></ul></li><li><a href="#å¼€å‘ä¸­çš„è¯¦ç»†ç¬”è®°" class="table-of-contents__link">ğŸ†ğŸ†å¼€å‘ä¸­çš„è¯¦ç»†ç¬”è®°ğŸ†ğŸ†</a><ul><li><a href="#-æœ€ç®€å¯åŠ¨" class="table-of-contents__link">ğŸ“ æœ€ç®€å¯åŠ¨</a></li><li><a href="#-æœ€ç®€å¯åŠ¨åˆ†æ" class="table-of-contents__link">ğŸ“ æœ€ç®€å¯åŠ¨åˆ†æ</a></li><li><a href="#-åˆ›å»ºä»£ç†æœåŠ¡å™¨è¿æ¥çœŸå®æ¯”ç‰¹å¸ç½‘ç»œ" class="table-of-contents__link">ğŸ“ åˆ›å»ºä»£ç†æœåŠ¡å™¨è¿æ¥çœŸå®æ¯”ç‰¹å¸ç½‘ç»œ</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.a7f83ba0.js"></script>
<script src="/assets/js/main.68816496.js"></script>
</body>
</html>